
window.html2canvas = function(el, opts){
  return new Promise(function(res){
    var c=document.createElement('canvas'); c.width=800; c.height=600;
    var ctx=c.getContext('2d'); ctx.fillStyle="#fff"; ctx.fillRect(0,0,c.width,c.height);
    ctx.fillStyle="#000"; ctx.font="16px sans-serif"; ctx.fillText("Aper√ßu export (fallback local).",20,30);
    res({toDataURL:function(){return c.toDataURL('image/png');}, width:c.width, height:c.height});
  });
};
